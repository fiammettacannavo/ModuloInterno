/*! For license information please see module.js.LICENSE.txt */
define(["react","@grafana/ui","@grafana/data"],(function(t,e,n){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=21)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}},function(t,n){t.exports=e},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){function t(){this.data=[]}return t.prototype.clear=function(){this.data=[]},t.prototype.size=function(){return this.data.length},t}(),o=function(){function t(t){this.index=0,this.data=t}return t.prototype.next=function(){return this.index<this.data.size()?this.data.getAt(this.index++):null},t}()},function(t,e,n){"use strict";var r=n(7),o=function(){function t(t,e,n,r,o){this.algorithm=t,this.coefficients=e,this.predFun=n,this.opt=r,o&&(this.accuracy=o)}return t.prototype.getAlgorithm=function(){return this.algorithm},t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getPredFun=function(){return this.predFun},t.prototype.getOpt=function(){return this.opt},t.prototype.getAcc=function(){return this.accuracy},t.prototype.setOpt=function(t){var e;null===(e=this.opt)||void 0===e||e.setValueFile(t)},t.fromJSON=function(e){if(!e)throw Error("No file found");var n=JSON.parse(e),o=r.b[n.algorithm];if(!n.algorithm||!n.coefficients)throw Error("Error reading file");return new t(n.algorithm,n.coefficients,n.predFun||"",o.fromJSON(n.opt||{}))},t.prototype.toJSON=function(){return'{\n    "GroupName": "ProApes",\n    "Version": "1.5",\n    "PluginName": "PredireInGrafana",\n    "algorithm": "'+this.algorithm+'",\n    "coefficients": ['+this.coefficients+'],\n    "predFun": "'+this.predFun+'",\n    "opt": '+JSON.stringify(this.opt)+',\n    "accuracy": "'+this.accuracy+'"\n}'},t}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(1),o=n(3),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.addValues=function(t){this.data.push([t.a,t.b,t.time])},e.prototype.getAt=function(t){return{a:this.data[t][0],b:this.data[t][1],time:this.data[t][2]}},e.fromSeries=function(t){var n,o;if(!t[0]||!t[1])throw Error("Set at least 2 query before");var i=t[0].fields[1].values.toArray(),a=[];t.forEach((function(t){a.push(t.fields[0].values.toArray())}));var s=new e;try{for(var l=Object(r.d)(i.keys()),u=l.next();!u.done;u=l.next()){var c=u.value;s.addValues({a:a[0][c],b:a[1][c],time:i[c]})}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return s},e}(o.a),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e}(o.b)},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var r=n(1),o=n(3),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e.prototype.addValues=function(t){this.data.push([t.value,t.time])},e.prototype.getAt=function(t){return{value:this.data[t][0],time:this.data[t][1]}},e}(o.a),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.b)(e,t),e}(o.b)},function(t,e,n){"use strict";var r=n(5),o=n(6),i=function(){function t(){}return t.prototype.predict=function(t,e){var n=1-(e.getOpt().getToPredict()||0),i=e.getCoefficients(),a=new o.b;if(!t)throw Error("Data not found");for(var s,l,u=new r.b(t);s=u.next();)(s.a||s.b)&&a.addValues({value:(l=0===n?s.a:s.b,l?l*i[0]+i[1]:0),time:s.time});return a},t}(),a=function(){function t(){}return t.prototype.predict=function(t,e){var n=e.getOpt().getFirstQuery()||0,i=e.getCoefficients(),a=function(t,e){return t*i[0]+e*i[1]+i[2]},s=new o.b;if(!t)throw Error("Data not found");for(var l,u=new r.b(t);l=u.next();)if(l.a||l.b){var c=0===n?a(l.a,l.b):a(l.b,l.a),p=0===c?0:c>0?1:-1;s.addValues({value:p,time:l.time})}return s},t}(),s=n(1),l=n(0),u=n.n(l),c=n(2),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e}(l.PureComponent),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.getSeriesNames=function(){return this.props.data.series.map((function(t){return t.name||"unknown"}))},e.prototype.renderQueryOptions=function(){var t,e,n,r=this.getSeriesNames(),o=[];try{for(var i=Object(s.d)(r.keys()),a=i.next();!a.done;a=i.next()){var l=a.value;o.push(u.a.createElement("option",{value:l,selected:(null===(n=this.predictor)||void 0===n?void 0:n.getOpt().getToPredict())===l},r[l]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return o},e.prototype.setToPredict=function(t){var e;(null===(e=this.props.options.predictor)||void 0===e?void 0:e.getOpt()).setToPredict(Number.parseInt(t,10)),this.render()},e.prototype.render=function(){var t,e,n,r,o=this;return this.predictor=this.props.options.predictor,(null===(t=this.predictor)||void 0===t?void 0:t.getOpt().getToPredict())||null===(e=this.predictor)||void 0===e||e.getOpt().setToPredict(0),u.a.createElement(c.PanelOptionsGroup,{title:"RL"},u.a.createElement("p",null,(null===(n=this.predictor)||void 0===n?void 0:n.getPredFun())?"Function: "+(null===(r=this.predictor)||void 0===r?void 0:r.getPredFun()):""),u.a.createElement("label",{className:"gf-form-label width-10",style:{display:"inline-block"}}," ","y (value to predict)"," "),u.a.createElement("div",{className:"gf-form-select-wrapper width-10",style:{display:"inline-block"}},u.a.createElement("select",{className:"input-small gf-form-input",onChange:function(t){return o.setToPredict(t.target.value)}},this.renderQueryOptions())))},e}(p),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.getSeriesNames=function(){return this.props.data.series.map((function(t){return t.name||"unknown"}))},e.prototype.renderQueryOptions=function(){var t,e,n,r=this.getSeriesNames(),o=[];try{for(var i=Object(s.d)(r.keys()),a=i.next();!a.done;a=i.next()){var l=a.value;o.push(u.a.createElement("option",{value:l,selected:(null===(n=this.predictor)||void 0===n?void 0:n.getOpt().getFirstQuery())===l},r[l]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return o},e.prototype.setFirstQuery=function(t){var e;(null===(e=this.props.options.predictor)||void 0===e?void 0:e.getOpt()).setFirstQuery(Number.parseInt(t,10)),this.render()},e.prototype.render=function(){var t,e,n,r,o=this;return this.predictor=this.props.options.predictor,(null===(t=this.predictor)||void 0===t?void 0:t.getOpt().getFirstQuery())||null===(e=this.predictor)||void 0===e||e.getOpt().setFirstQuery(0),u.a.createElement(c.PanelOptionsGroup,{title:"SVM"},u.a.createElement("p",null,(null===(n=this.predictor)||void 0===n?void 0:n.getPredFun())?"Function: "+(null===(r=this.predictor)||void 0===r?void 0:r.getPredFun()):""),u.a.createElement("label",{className:"gf-form-label width-10",style:{display:"inline-block"}}," ","x1 (first query)"," "),u.a.createElement("div",{className:"gf-form-select-wrapper width-10",style:{display:"inline-block"}},u.a.createElement("select",{className:"input-small gf-form-input",onChange:function(t){return o.setFirstQuery(t.target.value)}},this.renderQueryOptions())))},e}(p),h=n(8),m=n(9);n.d(e,"c",(function(){return g})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var g={RL:new i,SVM:new a},v={RL:f,SVM:d},y={RL:new h.a,SVM:new m.a}},function(t,e,n){"use strict";var r=function(){function t(){this.order=2,this.precision=2,this.toPredict=0}return t.prototype.fromJSON=function(t){return this.order=t.order,this.precision=t.precision,this.toPredict=t.toPredict||0,this},t.prototype.setValueFile=function(t){try{var e=JSON.parse(t);this.order=e.opt.order,this.precision=e.opt.precision}catch(t){throw new Error("Predictor bad formatted")}},t.prototype.getOrder=function(){return this.order},t.prototype.getPrecision=function(){return this.precision},t.prototype.getToPredict=function(){return this.toPredict},t.prototype.setPrecision=function(t){this.precision=t},t.prototype.setToPredict=function(t){this.toPredict=t},t}();e.a=r},function(t,e,n){"use strict";var r=function(){function t(){this.C=1,this.maxiter=1e4,this.numpass=10,this.firstQuery=0}return t.prototype.fromJSON=function(t){return this.C=t.C,this.maxiter=t.maxiter,this.numpass=t.numpass,this.firstQuery=t.firstQuery||0,this},t.prototype.setValueFile=function(t){try{var e=JSON.parse(t);this.C=e.opt.C,this.maxiter=e.opt.maxiter,this.numpass=e.opt.numpass}catch(t){throw new Error("Predictor bad formatted")}},t.prototype.getC=function(){return this.C},t.prototype.getMaxIter=function(){return this.maxiter},t.prototype.getNumPass=function(){return this.numpass},t.prototype.getFirstQuery=function(){return this.firstQuery},t.prototype.setC=function(t){this.C=t},t.prototype.setMaxIter=function(t){this.maxiter=t},t.prototype.setNumPass=function(t){this.numpass=t},t.prototype.setFirstQuery=function(t){this.firstQuery=t},t}();e.a=r},function(t,e){t.exports=n},function(t,e,n){var r,o,i;o=[t],void 0===(i="function"==typeof(r=function(t){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r={order:2,precision:2,period:null};function o(t,e){var n=[],r=[];t.forEach((function(t,o){null!==t[1]&&(r.push(t),n.push(e[o]))}));var o=r.reduce((function(t,e){return t+e[1]}),0)/r.length,i=r.reduce((function(t,e){var n=e[1]-o;return t+n*n}),0);return 1-r.reduce((function(t,e,r){var o=n[r],i=e[1]-o[1];return t+i*i}),0)/i}function i(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var a={linear:function(t,e){for(var n=[0,0,0,0,0],r=0,a=0;a<t.length;a++)null!==t[a][1]&&(r++,n[0]+=t[a][0],n[1]+=t[a][1],n[2]+=t[a][0]*t[a][0],n[3]+=t[a][0]*t[a][1],n[4]+=t[a][1]*t[a][1]);var s=r*n[2]-n[0]*n[0],l=r*n[3]-n[0]*n[1],u=0===s?0:i(l/s,e.precision),c=i(n[1]/r-u*n[0]/r,e.precision),p=function(t){return[i(t,e.precision),i(u*t+c,e.precision)]},f=t.map((function(t){return p(t[0])}));return{points:f,predict:p,equation:[u,c],r2:i(o(t,f),e.precision),string:0===c?"y = "+u+"x":"y = "+u+"x + "+c}},exponential:function(t,e){for(var n=[0,0,0,0,0,0],r=0;r<t.length;r++)null!==t[r][1]&&(n[0]+=t[r][0],n[1]+=t[r][1],n[2]+=t[r][0]*t[r][0]*t[r][1],n[3]+=t[r][1]*Math.log(t[r][1]),n[4]+=t[r][0]*t[r][1]*Math.log(t[r][1]),n[5]+=t[r][0]*t[r][1]);var a=n[1]*n[2]-n[5]*n[5],s=Math.exp((n[2]*n[3]-n[5]*n[4])/a),l=(n[1]*n[4]-n[5]*n[3])/a,u=i(s,e.precision),c=i(l,e.precision),p=function(t){return[i(t,e.precision),i(u*Math.exp(c*t),e.precision)]},f=t.map((function(t){return p(t[0])}));return{points:f,predict:p,equation:[u,c],string:"y = "+u+"e^("+c+"x)",r2:i(o(t,f),e.precision)}},logarithmic:function(t,e){for(var n=[0,0,0,0],r=t.length,a=0;a<r;a++)null!==t[a][1]&&(n[0]+=Math.log(t[a][0]),n[1]+=t[a][1]*Math.log(t[a][0]),n[2]+=t[a][1],n[3]+=Math.pow(Math.log(t[a][0]),2));var s=i((r*n[1]-n[2]*n[0])/(r*n[3]-n[0]*n[0]),e.precision),l=i((n[2]-s*n[0])/r,e.precision),u=function(t){return[i(t,e.precision),i(i(l+s*Math.log(t),e.precision),e.precision)]},c=t.map((function(t){return u(t[0])}));return{points:c,predict:u,equation:[l,s],string:"y = "+l+" + "+s+" ln(x)",r2:i(o(t,c),e.precision)}},power:function(t,e){for(var n=[0,0,0,0,0],r=t.length,a=0;a<r;a++)null!==t[a][1]&&(n[0]+=Math.log(t[a][0]),n[1]+=Math.log(t[a][1])*Math.log(t[a][0]),n[2]+=Math.log(t[a][1]),n[3]+=Math.pow(Math.log(t[a][0]),2));var s=(r*n[1]-n[0]*n[2])/(r*n[3]-Math.pow(n[0],2)),l=(n[2]-s*n[0])/r,u=i(Math.exp(l),e.precision),c=i(s,e.precision),p=function(t){return[i(t,e.precision),i(i(u*Math.pow(t,c),e.precision),e.precision)]},f=t.map((function(t){return p(t[0])}));return{points:f,predict:p,equation:[u,c],string:"y = "+u+"x^"+c,r2:i(o(t,f),e.precision)}},polynomial:function(t,e){for(var r=[],a=[],s=0,l=0,u=t.length,c=e.order+1,p=0;p<c;p++){for(var f=0;f<u;f++)null!==t[f][1]&&(s+=Math.pow(t[f][0],p)*t[f][1]);r.push(s),s=0;for(var d=[],h=0;h<c;h++){for(var m=0;m<u;m++)null!==t[m][1]&&(l+=Math.pow(t[m][0],p+h));d.push(l),l=0}a.push(d)}a.push(r);for(var g=function(t,e){for(var n=t,r=t.length-1,o=[e],i=0;i<r;i++){for(var a=i,s=i+1;s<r;s++)Math.abs(n[i][s])>Math.abs(n[i][a])&&(a=s);for(var l=i;l<r+1;l++){var u=n[l][i];n[l][i]=n[l][a],n[l][a]=u}for(var c=i+1;c<r;c++)for(var p=r;p>=i;p--)n[p][c]-=n[p][i]*n[i][c]/n[i][i]}for(var f=r-1;f>=0;f--){for(var d=0,h=f+1;h<r;h++)d+=n[h][f]*o[h];o[f]=(n[r][f]-d)/n[f][f]}return o}(a,c).map((function(t){return i(t,e.precision)})),v=function(t){return[i(t,e.precision),i(g.reduce((function(e,n,r){return e+n*Math.pow(t,r)}),0),e.precision)]},y=t.map((function(t){return v(t[0])})),b="y = ",A=g.length-1;A>=0;A--)b+=A>1?g[A]+"x^"+A+" + ":1===A?g[A]+"x + ":g[A];return{string:b,points:y,predict:v,equation:[].concat(n(g)).reverse(),r2:i(o(t,y),e.precision)}}};t.exports=Object.keys(a).reduce((function(t,n){return e({_round:i},t,(l=function(t,o){return a[n](t,e({},r,o))},(s=n)in(o={})?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,o));var o,s,l}),{})})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){var r=n(14);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(16)(r,o);r.locals&&(t.exports=r.locals)},function(t){t.exports=JSON.parse('{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":null,"links":[],"panels":[{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":null,"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":12,"x":0,"y":0},"hiddenSeries":false,"id":2,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"prediction","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Prediction Graph","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"datasource":null,"gridPos":{"h":9,"w":8,"x":12,"y":0},"id":4,"options":{"predictor":{"algorithm":"RL","coefficients":[1.37,1.38],"opt":{"toPredict":0}}},"targets":[{"alias":"cpu0","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["linear"],"type":"fill"}],"measurement":"cpu","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["usage_system"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"cpu","operator":"=","value":"cpu0"}]},{"alias":"cpu1","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["linear"],"type":"fill"}],"measurement":"cpu","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["usage_system"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"cpu","operator":"=","value":"cpu1"}]}],"timeFrom":null,"timeShift":null,"title":"Prediction Settings","type":"prediction-panel"}],"refresh":"5s","schemaVersion":22,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"Sample Dashboard","uid":"sample-dash","variables":{"list":[]},"version":51}')},function(t,e,n){(e=n(15)(!0)).push([t.i,'.main h1 {\n  text-align: center; }\n\n.main > div {\n  width: 100%;\n  margin: 1em;\n  padding: 1em;\n  background-color: #2c2c2c;\n  border-radius: 4px; }\n\n.button {\n  border: 1px solid #818181;\n  margin: .5em;\n  padding-left: 1em;\n  cursor: pointer; }\n\n.button input {\n  display: none; }\n\nbutton, .button {\n  display: inline-flex;\n  align-items: center;\n  font-weight: 500;\n  font-size: 14px;\n  font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;\n  line-height: 1;\n  padding: 8px 16px;\n  vertical-align: middle;\n  cursor: pointer;\n  border: medium none;\n  height: 32px;\n  border-radius: 2px;\n  background: rgba(0, 0, 0, 0) linear-gradient(#3f84ac, #38779b) repeat scroll 0% 0%;\n  color: white;\n  text-shadow: rgba(0, 0, 0, 0.1) 0px -1px; }\n\nbutton:hover, .button:hover {\n  background: #3f84ac none repeat scroll 0% 0%;\n  color: white; }\n\nselect {\n  border: none;\n  border-radius: 4px; }\n',"",{version:3,sources:["App.css"],names:[],mappings:"AAAA;EACE,kBAAkB,EAAE;;AAEtB;EACE,WAAW;EACX,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,kBAAkB,EAAE;;AAEtB;EACE,yBAAyB;EACzB,YAAY;EACZ,iBAAiB;EACjB,eAAe,EAAE;;AAEnB;EACE,aAAa,EAAE;;AAEjB;EACE,oBAAoB;EAEpB,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,0DAA0D;EAC1D,cAAc;EACd,iBAAiB;EACjB,sBAAsB;EACtB,eAAe;EACf,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;EAClB,kFAAkF;EAClF,YAAY;EACZ,wCAAwC,EAAE;;AAE5C;EACE,4CAA4C;EAC5C,YAAY,EAAE;;AAEhB;EACE,YAAY;EACZ,kBAAkB,EAAE",file:"App.css",sourcesContent:['.main h1 {\n  text-align: center; }\n\n.main > div {\n  width: 100%;\n  margin: 1em;\n  padding: 1em;\n  background-color: #2c2c2c;\n  border-radius: 4px; }\n\n.button {\n  border: 1px solid #818181;\n  margin: .5em;\n  padding-left: 1em;\n  cursor: pointer; }\n\n.button input {\n  display: none; }\n\nbutton, .button {\n  display: inline-flex;\n  -moz-box-align: center;\n  align-items: center;\n  font-weight: 500;\n  font-size: 14px;\n  font-family: "Roboto", "Helvetica Neue", Arial, sans-serif;\n  line-height: 1;\n  padding: 8px 16px;\n  vertical-align: middle;\n  cursor: pointer;\n  border: medium none;\n  height: 32px;\n  border-radius: 2px;\n  background: rgba(0, 0, 0, 0) linear-gradient(#3f84ac, #38779b) repeat scroll 0% 0%;\n  color: white;\n  text-shadow: rgba(0, 0, 0, 0.1) 0px -1px; }\n\nbutton:hover, .button:hover {\n  background: #3f84ac none repeat scroll 0% 0%;\n  color: white; }\n\nselect {\n  border: none;\n  border-radius: 4px; }\n']}]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,c=0,p=[],f=n(17);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),p.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(t.insertAt.before,n);n.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=p.indexOf(t);e>=0&&p.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=c++;n=u||(u=v(e)),r=E.bind(null,n,a,!1),o=E.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),m(t,e),e}(e),r=O.bind(null,n,e),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=x.bind(null,n),o=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return d(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&d(h(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var A,w=(A=[],function(t,e){return A[t]=e,A.filter(Boolean).join("\n")});function E(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function x(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function O(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=f(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){!function(t){var e=function(t){};function n(t){return function(e,n){for(var r=0,o=0;o<e.length;o++)r+=(e[o]-n[o])*(e[o]-n[o]);return Math.exp(-r/(2*t*t))}}function r(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}e.prototype={train:function(t,e,o){this.data=t,this.labels=e;var i=(o=o||{}).C||1,a=o.tol||1e-4,s=o.alphatol||1e-7,l=o.maxiter||1e4,u=o.numpasses||10,c=r;if(this.kernelType="linear","kernel"in o)if("string"==typeof o.kernel){if("linear"===o.kernel&&(this.kernelType="linear",c=r),"rbf"===o.kernel){var p=o.rbfsigma||.5;this.rbfSigma=p,this.kernelType="rbf",c=n(p)}}else this.kernelType="custom",c=o.kernel;this.kernel=c,this.N=t.length;var f=this.N;this.D=t[0].length;this.D;this.alpha=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e}(f),this.b=0,this.usew_=!1;for(var d,h,m=0,g=0;g<u&&m<l;){for(var v=0,y=0;y<f;y++){var b=this.marginOne(t[y])-e[y];if(e[y]*b<-a&&this.alpha[y]<i||e[y]*b>a&&this.alpha[y]>0){for(var A=y;A===y;)d=0,h=this.N,A=Math.floor(Math.random()*(h-d)+d);var w=this.marginOne(t[A])-e[A];ai=this.alpha[y],aj=this.alpha[A];var E=0,x=i;if(e[y]===e[A]?(E=Math.max(0,ai+aj-i),x=Math.min(i,ai+aj)):(E=Math.max(0,aj-ai),x=Math.min(i,i+aj-ai)),Math.abs(E-x)<1e-4)continue;var O=2*c(t[y],t[A])-c(t[y],t[y])-c(t[A],t[A]);if(O>=0)continue;var C=aj-e[A]*(b-w)/O;if(C>x&&(C=x),C<E&&(C=E),Math.abs(aj-C)<1e-4)continue;this.alpha[A]=C;var S=ai+e[y]*e[A]*(aj-C);this.alpha[y]=S;var k=this.b-b-e[y]*(S-ai)*c(t[y],t[y])-e[A]*(C-aj)*c(t[y],t[A]),j=this.b-w-e[y]*(S-ai)*c(t[y],t[A])-e[A]*(C-aj)*c(t[A],t[A]);this.b=.5*(k+j),S>0&&S<i&&(this.b=k),C>0&&C<i&&(this.b=j),v++}}m++,0==v?g++:g=0}if("linear"===this.kernelType){this.w=new Array(this.D);for(A=0;A<this.D;A++){var N=0;for(y=0;y<this.N;y++)N+=this.alpha[y]*e[y]*t[y][A];this.w[A]=N,this.usew_=!0}}else{var M=[],P=[],B=[];for(y=0;y<this.N;y++)this.alpha[y]>s&&(M.push(this.data[y]),P.push(this.labels[y]),B.push(this.alpha[y]));this.data=M,this.labels=P,this.alpha=B,this.N=this.data.length}var T={};return T.iters=m,T},marginOne:function(t){var e=this.b;if(this.usew_)for(var n=0;n<this.D;n++)e+=t[n]*this.w[n];else for(var r=0;r<this.N;r++)e+=this.alpha[r]*this.labels[r]*this.kernel(t,this.data[r]);return e},predictOne:function(t){return this.marginOne(t)>0?1:-1},margins:function(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=this.marginOne(t[r]);return n},predict:function(t){for(var e=this.margins(t),n=0;n<e.length;n++)e[n]=e[n]>0?1:-1;return e},getWeights:function(){for(var t=new Array(this.D),e=0;e<this.D;e++){for(var n=0,r=0;r<this.N;r++)n+=this.alpha[r]*this.labels[r]*this.data[r][e];t[e]=n}return{w:t,b:this.b}},toJSON:function(){return"custom"===this.kernelType?(console.log("Can't save this SVM because it's using custom, unsupported kernel..."),{}):(json={},json.N=this.N,json.D=this.D,json.b=this.b,json.kernelType=this.kernelType,"linear"===this.kernelType&&(json.w=this.w),"rbf"===this.kernelType&&(json.rbfSigma=this.rbfSigma,json.data=this.data,json.labels=this.labels,json.alpha=this.alpha),json)},fromJSON:function(t){this.N=t.N,this.D=t.D,this.b=t.b,this.kernelType=t.kernelType,"linear"===this.kernelType?(this.w=t.w,this.usew_=!0,this.kernel=r):"rbf"==this.kernelType?(this.rbfSigma=t.rbfSigma,this.kernel=n(this.rbfSigma),this.data=t.data,this.labels=t.labels,this.alpha=t.alpha):console.log("ERROR! unrecognized kernel type."+this.kernelType)}},(t=t||{}).SVM=e,t.makeRbfKernel=n,t.linearKernel=r}(t.exports)},function(t,e,n){(function(n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){a(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,a){var s=i.URL||i.webkitURL,l=document.createElement("a");n=n||t.name||"download",l.download=n,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):r(l.href)?e(t,n,a):o(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),n);else if(r(t))e(t,n,i);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout((function(){o(a)}))}}:function(t,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var a="application/octet-stream"===t.type,s=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},u.readAsDataURL(t)}else{var c=i.URL||i.webkitURL,p=c.createObjectURL(t);o?o.location=p:location.href=p,o=null,setTimeout((function(){c.revokeObjectURL(p)}),4e4)}});i.saveAs=a.saveAs=a,t.exports=a})?r.apply(e,o):r)||(t.exports=i)}).call(this,n(20))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=n(10),o=n(1),i=n(0),a=n.n(i),s=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.makeDashboard=function(){return Object(o.a)(this,void 0,void 0,(function(){var t;return Object(o.c)(this,(function(e){return t={dashboard:n(13),overwrite:!0},$.post({url:"/api/dashboards/db",contentType:"application/json",dataType:"application/json",data:JSON.stringify(t),complete:function(e){alert("Dashboard: "+t.dashboard.title+"\nStatus: "+e.statusText),location.replace("/d/"+t.dashboard.uid)}}),[2]}))}))},e.prototype.render=function(){var t=this;return a.a.createElement("div",null,a.a.createElement(s.Button,{onClick:function(){return t.makeDashboard()}},"Sample Dashboard"))},e}(i.PureComponent),u=(n(12),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.b)(e,t),e.prototype.renderAlgorithmView=function(){return this.props.AlgView?a.a.createElement(this.props.AlgView,{options:this.props.options}):a.a.createElement("div",null)},e.prototype.render=function(){var t=this.props,e=t.buttonSelectAlg,n=t.selectAlg,r=t.buttonInputData,o=t.buttonInputOpt,i=t.buttonTrain,s=t.predictor,l=t.nameAcc,u=t.accuracy,c=t.buttonDownload;return a.a.createElement("div",{className:"main"},a.a.createElement("h1",null,"Training Module"),a.a.createElement("div",null,a.a.createElement("span",null,"Choose the algorithm to use for the training: "),a.a.createElement("select",{disabled:!1,id:"alg",onChange:n},a.a.createElement("option",{value:"RL"},"Regressione Lineare (RL)"),a.a.createElement("option",{value:"SVM"},"Support Vector Machine (SVM)")),a.a.createElement("br",null),a.a.createElement("button",{onClick:e},"Confirm")),a.a.createElement("div",null,a.a.createElement("div",{className:"graph"},this.renderAlgorithmView())),a.a.createElement("div",{id:"import",style:{display:"none"}},a.a.createElement("div",null,a.a.createElement("h3",{id:"options"},"Editor"),a.a.createElement("label",{className:"button"},"Import data (.csv)",a.a.createElement("input",{className:"form-input",type:"file",name:"data",id:"data",onChange:r,accept:".csv,.txt"})),a.a.createElement("label",{className:"button"},"Import previous options (.json)",a.a.createElement("input",{className:"form-input",type:"file",name:"opt",id:"opt",onChange:o,accept:".json"})),a.a.createElement("input",{className:"button",id:"train",type:"button",value:"Train ðŸš‚",onClick:function(){i()},style:{display:"none"}}),a.a.createElement("p",{className:"function",style:{display:"none"}},"Function: ",s),a.a.createElement("p",{className:"function",style:{display:"none"}},l,": ",u),a.a.createElement("div",null,a.a.createElement("input",{className:"button",type:"button",value:"Download Predictor",id:"download",onClick:c,style:{display:"none"}}),a.a.createElement("input",{className:"button",id:"reset",type:"button",value:"Reset",onClick:function(){window.location.reload(!1)},style:{display:"none"}})))))},e}(a.a.Component)),c=n(11),p=n.n(c),f=n(4),d=function(){function t(){}return t.prototype.train=function(t,e){return new f.a("RL",p.a.linear(t.getPoints(),{order:e.getOrder(),precision:e.getPrecision()}).equation,p.a.linear(t.getPoints(),{order:e.getOrder(),precision:e.getPrecision()}).string,e,p.a.linear(t.getPoints(),{order:e.getOrder(),precision:e.getPrecision()}).r2)},t}(),h=function(){function t(){}return t.prototype.train=function(t,e){var r=new(n(18).SVM);r.train(t.getPoints(),t.getLabels(),{C:e.getC(),maxiter:e.getMaxIter(),numpass:e.getNumPass()});for(var o,i,a,s=r.predict(t.getPoints()),l=[[0,0],[0,0]],u=0;u<t.getLabels().length;u++)s[u]>0?1===t.getLabels()[u]?l[0][0]++:l[0][1]++:1===t.getLabels()[u]?l[1][0]++:l[1][1]++;var c=(o=l[0][0])/(o+(i=l[0][1])),p=o/(o+(a=l[1][0])),d=c*p*2/(c+p);return o+i!==0&&o+a!==0||(d=0),new f.a("SVM",[r.b,r.w[0],r.w[1]],"y = "+-r.w[0]/r.w[1]+"x + "+-r.b/r.w[0],e,d)},t}(),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={prec:2},e}return Object(o.b)(e,t),e.prototype.render=function(){var t=this,e=this.props.options;return a.a.createElement("div",{className:"graph-container"},a.a.createElement("p",null,"Choose the algorithm options (if you want)"),a.a.createElement("div",{id:"RLopt"},a.a.createElement("div",{className:"form"},a.a.createElement("span",{className:"form-label"},a.a.createElement("strong",null,"Precision"),":"," "),a.a.createElement("select",{value:e.getPrecision(),onChange:function(n){e.setPrecision(Number(n.target.value)),t.setState({prec:e.getPrecision()})}},a.a.createElement("option",{value:"1"},"1"),a.a.createElement("option",{value:"2"},"2"),a.a.createElement("option",{value:"3"},"3"),a.a.createElement("option",{value:"4"},"4"),a.a.createElement("option",{value:"5"},"5")),a.a.createElement("br",null))))},e}(a.a.Component),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={opt:0},e}return Object(o.b)(e,t),e.prototype.render=function(){var t=this,e=this.props.options;return a.a.createElement("div",{className:"graph-container"},a.a.createElement("div",{className:"text-center"},a.a.createElement("h3",{id:"options"},"Choose the algorithm options (if you want)")),a.a.createElement("label",{className:"form-label form-label-2 mb-2"},a.a.createElement("strong",null,"Kernel type"),": linear"),a.a.createElement("label",{className:"form-label form-label-2 mb-2"},a.a.createElement("strong",null,"Alpha Tollerance"),": 1e-7"),a.a.createElement("label",{className:"form-label form-label-2 mb-10"},a.a.createElement("strong",null,"Tollerance"),": 1e-4"),a.a.createElement("div",{id:"SVMopt"},a.a.createElement("div",{className:"form"},a.a.createElement("label",{className:"form-label"},a.a.createElement("strong",null,"C"),":"),a.a.createElement("input",{type:"number",id:"C",value:e.getC(),onChange:function(n){e.setC(Number(n.target.value)),t.setState({opt:e.getC()})}})),a.a.createElement("div",{className:"form"},a.a.createElement("label",{className:"form-label"},a.a.createElement("strong",null,"Max iterations"),":"),a.a.createElement("input",{type:"number",id:"maxiter",value:e.getMaxIter(),onChange:function(n){e.setMaxIter(Number(n.target.value)),t.setState({opt:e.getMaxIter()})}})),a.a.createElement("div",{className:"form"},a.a.createElement("label",{className:"form-label"},a.a.createElement("strong",null,"Number passes"),":"),a.a.createElement("input",{type:"number",id:"numpas",value:e.getNumPass(),onChange:function(n){e.setNumPass(Number(n.target.value)),t.setState({opt:e.getNumPass()})}}))))},e}(a.a.Component),v=function(){function t(){this.points=[]}return t.prototype.setValue=function(t){var e=this;t.forEach((function(t){var n=[0,0];n[0]=t[0],n[1]=t[1],e.points.push(n)}))},t.prototype.getPoints=function(){return this.points},t}(),y=function(){function t(){this.points=[],this.labels=[]}return t.prototype.setValue=function(t){var e=this;t.forEach((function(t){e.points.push([t[0],t[1]]),e.labels.push(t[2])}))},t.prototype.getPoints=function(){return this.points},t.prototype.getLabels=function(){return this.labels},t}(),b=n(8),A=n(9),w={RL:new d,SVM:new h},E={RL:m,SVM:g},x={RL:new v,SVM:new y},O={RL:new b.a,SVM:new A.a},C=function(){function t(){}return t.prototype.getData=function(){return this.data},t.prototype.getPredictor=function(){return this.predictor},t.prototype.setData=function(t){this.data&&this.data.setValue(t)},t.prototype.setAlgorithm=function(t){this.predictor=new f.a(t,[],"",O[t]),this.strategy=w[t],this.data=x[t]},t.prototype.setPredictorOptions=function(t){var e;null===(e=this.predictor)||void 0===e||e.setOpt(t)},t.prototype.train=function(){var t,e=null===(t=this.predictor)||void 0===t?void 0:t.getOpt();this.strategy&&this.data&&e&&(this.predictor=this.strategy.train(this.data,e))},t.prototype.downloadPredictor=function(){if(this.predictor){var t=n(19),e=this.predictor.toJSON(),r=new File([e],"Training.json",{type:"text/json;charset=utf-8"});t.saveAs(r)}},t}(),S=function(t){function e(e){var n=t.call(this,e)||this;return n.state={algView:void 0,options:{},fun:"",acc:0},n.model=new C,n.algorithm="RL",n}return Object(o.b)(e,t),e.validateFile=function(t){if(!t.match(/^[-?\d.\d?,-?\d.\d?\n]+/))throw new Error("Data has wrong formattation!")},e.parseCSVtoData=function(t){var e=[];return t.trim().split("\n").forEach((function(t){var n=t.split(","),r=[];n.forEach((function(t){r.push(parseFloat(t))})),e.push(r)})),e},e.prototype.loadData=function(t){var n=this,r=new FileReader;if(t){r.readAsText(t);try{r.onload=function(t){e.validateFile(t.target&&t.target.result?t.target.result.toString():"");var r=e.parseCSVtoData(t.target&&t.target.result?t.target.result.toString():"");n.model.setData(r);var o=document.getElementById("train");o&&o.setAttribute("style","display: block")}}catch(t){alert(t)}}},e.prototype.loadOpt=function(t){var e=this;if(t){var n=new FileReader;if("json"===t.name.split(".").pop()){n.readAsText(t);try{n.onload=function(t){var n,r=t.target&&t.target.result?t.target.result.toString():"";e.model.setPredictorOptions(r),e.setState({options:null===(n=e.model.getPredictor())||void 0===n?void 0:n.getOpt()}),e.setState({fun:""}),e.setState({acc:0})}}catch(t){alert(t)}}else alert("File extension is not json!")}},e.prototype.setAlgorithm=function(t){this.algorithm=t},e.prototype.selectAlgorithm=function(){this.model.setAlgorithm(this.algorithm),this.setState({algView:E[this.algorithm]}),this.setState({options:O[this.algorithm]});var t=document.getElementById("alg");t&&t.setAttribute("disabled","true");var e=document.getElementById("import");e&&e.setAttribute("style","display: block")},e.prototype.train=function(){var t,e;if(this.model.getData()){this.model.train();var n=document.getElementsByClassName("function")[0],r=document.getElementsByClassName("function")[1];n&&r&&(n.setAttribute("style","display: block"),r.setAttribute("style","display: block"));var o=document.getElementById("reset");o&&o.setAttribute("style","display: block");var i=document.getElementById("download");i&&i.setAttribute("style","display: block"),this.setState({fun:null===(t=this.model.getPredictor())||void 0===t?void 0:t.getPredFun()}),this.setState({acc:null===(e=this.model.getPredictor())||void 0===e?void 0:e.getAcc()})}},e.prototype.render=function(){var t=this;return a.a.createElement(u,{selectAlg:function(e){t.setAlgorithm(e.target.value)},buttonSelectAlg:function(){t.selectAlgorithm()},buttonInputData:function(e){t.loadData(e.target&&e.target.files?e.target.files[0]:null)},buttonInputOpt:function(e){t.loadOpt(e.target&&e.target.files?e.target.files[0]:null)},buttonTrain:function(){return t.train()},predictor:this.state.fun,nameAcc:"RL"===this.algorithm?"R^2":"F-Measure",accuracy:this.state.acc,buttonDownload:function(){t.model.downloadPredictor()},AlgView:this.state.algView,options:this.state.options})},e}(i.PureComponent);n.d(e,"ConfigCtrl",(function(){return k})),n.d(e,"plugin",(function(){return j}));var k=function(){},j=(new r.AppPlugin).addConfigPage({title:"Wizard",icon:"fa fa-magic",body:l,id:"import"}).addConfigPage({title:"Training",icon:"",body:S,id:"training"})}])}));
//# sourceMappingURL=module.js.map